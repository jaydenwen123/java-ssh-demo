<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>ball.html</title>
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3"/>
    <meta http-equiv="description" content="this is my page"/>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
  </head>
  
  <body>
	<div id="div" style="width: 500px;height: 400px;border: 1px solid orange;position: absolute;left:200px;top:100px;">
		<div id="imgDiv" style="position: absolute;/*border:1px solid red;  */">
		<img  src="t01b5150fd6c3c8bbe1.jpg" width="50px" height="50px"/>
		</div>
	</div>
	
	 <script type="text/javascript" language="javascript">
		//采用函数的方式来运动
		/* var directX=1;
		var directY=1;
		var speed=2;
		var ballX=0;
		var ballY=0;
		function move(){
		var div=document.getElementById("imgDiv");
			ballX+=speed* directX;
			ballY+=speed* directY;
			div.style.top=ballY+"px";
			div.style.left=ballX+"px";
		} */
			/* setInterval("move()", 100); */
			
			//采用面向对象的方式来运动
		var imgDiv=document.getElementById("imgDiv");
		function Ball(directX,directY,speed,imgdiv,div){
		this.border=div;
		this.img=imgdiv;
		this.directX=directX;
		this.directY=directY;
		this.speed=speed;
		this.ballX=0;
		this.ballY=0;
		var timerId=0;
		this.move=function move(){
			this.ballX+=this.speed*this.directX;
			this.ballY+=this.speed* this.directY;
			this.img.style.top=this.ballX+"px";
			this.img.style.left=this.ballY+"px";
			if(this.ballX+this.img.offsetHeight>=this.border.offsetHeight || this.ballX<=0){
				this.directX=-this.directX;
			}
			if(this.ballY+this.img.offsetWidth>=this.border.offsetWidth || this.ballY<=0){
				this.directY=-this.directY;
			}
		};
		
		this.parse=function parse(){
				 clearInterval(timerId);
				this.img.style.top=	this.ballX+"px";
				this.img.style.left= this.ballY+"px";		
		};
		this.run=function run(){
			timerId=setInterval("ball.move()", 50); 
		};
		this.setSpeed=function (){
			var speedStr=prompt();
			if(!isNaN(speedStr) && speedStr!=null){
			this.speed=parseInt(speedStr);
			}
		};
		}
			 var ball=new Ball(1,1,2,imgDiv,div);
		
		
		//setTimeout("ball.createBAll()", 10000);
	</script>
	<div>
		<input type="button"  value="to run" onclick="ball.run()"/>
		<input type="button" value="to parse" onclick="ball.parse()"/>
		<input type="button" value="setting speed" onclick="ball.setSpeed()"/>
		
	</div>
  </body>
</html>
